{"version":3,"file":"integration.js","sourceRoot":"","sources":["integration.ts"],"names":[],"mappings":"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","sourcesContent":["/*!\n * devextreme-angular\n * Version: 19.1.11\n * Build date: Fri May 15 2020\n *\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-angular\n */\n\n\r\nimport { NgModule, Inject, NgZone, Optional } from '@angular/core';\r\nimport { XhrFactory } from '@angular/common/http';\r\nimport * as httpRequest from 'devextreme/core/http_request';\r\nimport { DOCUMENT } from '@angular/common';\r\n\r\nimport * as domAdapter from 'devextreme/core/dom_adapter';\r\nimport * as readyCallbacks from 'devextreme/core/utils/ready_callbacks';\r\nimport * as eventsEngine from 'devextreme/events/core/events_engine';\r\n\r\nconst outsideZoneEvents = ['mousemove', 'mouseover', 'mouseout'];\r\nconst insideZoneEvents = ['mouseup', 'click', 'mousedown', 'transitionend', 'wheel'];\r\n\r\nlet originalAdd;\r\nlet callbacks = [];\r\nreadyCallbacks.inject({\r\n    add: function(callback) {\r\n        originalAdd = this.callBase.bind(this);\r\n        callbacks.push(callback);\r\n    }\r\n});\r\n\r\nlet doInjections = (document: any, ngZone: NgZone, xhrFactory: XhrFactory) => {\r\n    domAdapter.inject({\r\n        _document: document,\r\n\r\n        listen: function(...args) {\r\n            const eventName = args[1];\r\n            if (outsideZoneEvents.indexOf(eventName) !== -1) {\r\n                return ngZone.runOutsideAngular(() => {\r\n                    return this.callBase.apply(this, args);\r\n                });\r\n            }\r\n\r\n            if (ngZone.isStable && insideZoneEvents.indexOf(eventName) !== -1) {\r\n                return ngZone.run(() => {\r\n                    return this.callBase.apply(this, args);\r\n                });\r\n            }\r\n\r\n            return this.callBase.apply(this, args);\r\n        },\r\n\r\n        isElementNode: function(element) {\r\n            return element && element.nodeType === 1;\r\n        },\r\n\r\n        isTextNode: function(element) {\r\n            return element && element.nodeType === 3;\r\n        },\r\n\r\n        isDocument: function(element) {\r\n            return element && element.nodeType === 9;\r\n        }\r\n    });\r\n\r\n    httpRequest.inject({\r\n        getXhr: function() {\r\n            if (!xhrFactory) {\r\n                return this.callBase.apply(this);\r\n            }\r\n            let _xhr = xhrFactory.build();\r\n            if (!('withCredentials' in _xhr)) {\r\n                _xhr['withCredentials'] = false;\r\n            }\r\n\r\n            return _xhr;\r\n        }\r\n    });\r\n\r\n    const runReadyCallbacksInZone = () => {\r\n        ngZone.run(() => {\r\n            eventsEngine.set({});\r\n            callbacks.forEach(callback => originalAdd.call(null, callback));\r\n            callbacks = [];\r\n            readyCallbacks.fire();\r\n        });\r\n    };\r\n\r\n    runReadyCallbacksInZone();\r\n\r\n    doInjections = runReadyCallbacksInZone;\r\n};\r\n\r\n@NgModule({})\r\nexport class DxIntegrationModule {\r\n    constructor(@Inject(DOCUMENT) document: any, ngZone: NgZone, @Optional() xhrFactory: XhrFactory) {\r\n        doInjections(document, ngZone, xhrFactory);\r\n    }\r\n}\r\n"]}