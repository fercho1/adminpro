<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-body">
                <div class="text-right">
                    <button [routerLink]="['/rango','nuevo']" type="button"
                        class="btn waves-effect waves-light btn-rounded btn-primary">
                        <i class="fa fa-plus"> Crear Rango</i>
                    </button>
                </div>

                <h3 class="card-title">Rangos registrados (<small>{{totalRegistros}}</small>)</h3>

                <dx-data-grid [dataSource]="this.rangos"
                              [allowColumnReordering]="true"
                              [allowColumnResizing]="true"
                              [columnAutoWidth]="true"
                              [columnHidingEnabled]="false"
                              [columnMinWidth]="50"
                              [columnResizingMode]="'nextColumn'"
                              [hoverStateEnabled]="true"
                              [rowAlternationEnabled]="true"
                              [showBorders]="true"
                              [showColumnLines]="true"
                              [showRowLines]="false"
                              >

                              <dxo-grouping
                              [autoExpandAll]="true"
                              [contextMenuEnabled]="true"
                              [expandMode]="'rowClick'">
                              </dxo-grouping>

                              <dxo-selection 
                              mode="multiple">
                              </dxo-selection>

                              <dxo-export
                              fileName="Clientes"
                              [allowExportSelectedData]="true"
                              [enabled]="true"
                              >
                              </dxo-export>

                              <dxo-column-chooser
                              mode="dragAndDrop"
                              [allowSearch]="true"
                              [enabled]="true">
                              </dxo-column-chooser>

                              <dxo-search-panel
                              [highlightCaseSensitive]="false"
                              [visible]="true"
                              [width]="300">
                              </dxo-search-panel>

                              <dxo-sorting
                              mode="multiple">
                              </dxo-sorting>

                              <dxo-header-filter
                              [visible]="true">
                              </dxo-header-filter>

                              <dxo-filter-row 
                              [visible]="true">
                              </dxo-filter-row>

                              <dxo-filter-panel
                              [filterEnabled]="true"
                              [visible]="true">
                              </dxo-filter-panel>

                              <dxo-load-panel
                              [enabled]="true"
                              [indicatorSrc]="'../../../../assets/images/dia-b.png'"
                              [showIndicator]="true"
                              [showPane]="true">
                              </dxo-load-panel>

                              <dxo-paging 
                              [pageSize]="15"
                              [pageIndex]="1"> <!-- Shows the second page -->
                              </dxo-paging>

                                <dxi-column type="buttons" [caption]="'Acciones'">
                                    <dxi-button template="myCommand">
                                    
                                        <div *dxTemplate="let rango of 'myCommand'" class="text-center">
                                            <button class="btn btn-primary mr-2" [routerLink]="['/rango', rango.data._id]"><i class="fa fa-edit"></i></button>
                                            <button class="btn btn-danger" (click)="borrarRango(rango.data)"><i class="fa fa-trash-o"></i></button>
                                        </div>
                                    </dxi-button>
                                </dxi-column>

 
 
                                <dxi-column 
                                [caption]="'Fracción básica'" 
                                [allowFiltering]="true" 
                                [dataField]="'fraccionBasica'"                
                                ></dxi-column>

                                <dxi-column 
                                [caption]="'Exceso Hasta'" 
                                [allowFiltering]="true" 
                                [dataField]="'excesoHasta'"                
                                ></dxi-column>

                                <dxi-column 
                                [caption]="'Impuesto fracción básica'" 
                                [allowFiltering]="true" 
                                [dataField]="'impFraccionB'"                
                                ></dxi-column>

                                <dxi-column 
                                [caption]="'Impuesto fracción excedente'" 
                                [allowFiltering]="true" 
                                [dataField]="'impFraccionE'"                
                                ></dxi-column>
                    
                               
                </dx-data-grid>
            </div>
        </div>
    </div>
</div>

