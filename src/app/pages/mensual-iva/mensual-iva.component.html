

<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-body">
                <h3 class="card-title">Totales Facturas (<small>{{totalRegistros}}</small>)</h3>
                <dx-data-grid [dataSource]="this.facturasAgr"
                              [allowColumnReordering]="true"
                              [allowColumnResizing]="true"
                              [columnAutoWidth]="true"
                              [columnHidingEnabled]="false"
                              [columnMinWidth]="50"
                              [columnResizingMode]="'nextColumn'"
                              [hoverStateEnabled]="true"
                              [rowAlternationEnabled]="true"
                              [showBorders]="true"
                              [showColumnLines]="true"
                              [showRowLines]="false"
                              >

                              <dxo-grouping
                                    [autoExpandAll]="false"
                              ></dxo-grouping>

                              <dxo-selection 
                              mode="multiple">
                              </dxo-selection>

                              <dxo-export
                              fileName="Reporte 1"
                              [allowExportSelectedData]="true"
                              [enabled]="true"
                              >
                              </dxo-export>

                              <dxo-column-chooser
                              mode="dragAndDrop"
                              [allowSearch]="true"
                              [enabled]="true">
                              </dxo-column-chooser>

                              <dxo-search-panel
                              [highlightCaseSensitive]="false"
                              [visible]="true"
                              [width]="300">
                              </dxo-search-panel>

                              <dxo-sorting
                              mode="multiple">
                              </dxo-sorting>

                              <dxo-header-filter
                              [visible]="true">
                              </dxo-header-filter>

                              <dxo-filter-row 
                              [visible]="true">
                              </dxo-filter-row>

                              <dxo-filter-panel
                              [filterEnabled]="true"
                              [visible]="true">
                              </dxo-filter-panel>

                              <dxo-load-panel
                              [enabled]="true"
                              [indicatorSrc]="'../../../../assets/images/dia-b.png'"
                              [showIndicator]="true"
                              [showPane]="true">
                              </dxo-load-panel>

                              <dxo-paging 
                              [pageSize]="15"
                              [pageIndex]="1"> <!-- Shows the second page -->
                              </dxo-paging>

                                <dxi-column dataField="_id.anio" [groupIndex]="0" [caption]="'AÃ±o'"></dxi-column>
                                <dxi-column dataField="cliente[0].nombre" [groupIndex]="1" [caption]="'Nombre'"></dxi-column>

 
 
                                

                                

                                <dxi-column 
                                [caption]="'Mes'" 
                                [allowFiltering]="true" 
                                dataField="_id.mes" 
                                cellTemplate="cityCell"                
                                ></dxi-column>
                                <div *dxTemplate="let data of 'cityCell'">  
                                    {{data.displayValue | meses}}  
                                </div> 

                                <dxi-column 
                                [caption]="'Tipo'" 
                                [allowFiltering]="true" 
                                [dataField]="'_id.tipo'"
                                ></dxi-column>
                    
                                <dxi-column 
                                [caption]="'Base Imponible IVA 0%'" 
                                [allowFiltering]="true" 
                                [dataField]="'totalbImponible0'"
                                ></dxi-column>

                                <dxi-column 
                                [caption]="'Base Imponible IVA'" 
                                [allowFiltering]="true" 
                                [dataField]="'totalbImponible'"
                                ></dxi-column>

                                <dxi-column 
                                [caption]="'Iva'" 
                                [allowFiltering]="true" 
                                [dataField]="'totalIva'"
                                ></dxi-column>
                    
                                <dxi-column 
                                [caption]="'Total'" 
                                [allowFiltering]="true" 
                                [dataField]="'total'"
                                ></dxi-column>

                                <dxi-column 
                                [caption]="'Base Imp. Ret.'" 
                                [allowFiltering]="true" 
                                [dataField]="'totalbImpRet'"
                                ></dxi-column>

                                <dxi-column 
                                [caption]="'Ret. I.R'" 
                                [allowFiltering]="true" 
                                [dataField]="'totalretIr'"
                                ></dxi-column>
                    
                                <dxi-column 
                                [caption]="'Ret. Iva'" 
                                [allowFiltering]="true" 
                                [dataField]="'totalretIva'"
                                ></dxi-column>

                                <dxi-column 
                                [caption]="'Total 2'" 
                                [allowFiltering]="true" 
                                [dataField]="'total2'"
                                ></dxi-column>
                </dx-data-grid>

            </div>
        </div>
    </div>
</div>
